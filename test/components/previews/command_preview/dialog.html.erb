<div data-controller="dialog">
  <button class="btn" data-action="dialog#showModal">Show command</button>

  <dialog class="dialog" style="max-inline-size: 430px;" data-dialog-target="menu" data-action="click->dialog#closeOnClickOutside">
    <button class="btn btn--plain dialog__close" data-action="click->dialog#close">
      <%= image_tag "x.svg", size: 16, aria: { hidden: true } %>
      <span class="sr-only">Close</span>
    </button>

    <div class="command" style="max-inline-size: 450px" data-controller="filter listbox" data-filter-active-class="command__list--filtering" data-filter-selected-class="selected">
      <label class="command__input input input--actor flex items-center gap">
        <%= image_tag "search.svg", size: 16, aria: { hidden: true } %>
        <%= text_field_tag "search", nil, data: { listbox_target: "input", action: "input->filter#filter focus->listbox#start blur->listbox#stop" }, autofocus: true, autocomplete: "off", placeholder: "Filter..." %>
      </label>
      <div class="command__list" data-filter-target="list" data-listbox-target="list" role="listbox" aria-label="Commands" tabindex="0">
        <%= render "command_options" %>
        <div class="command__empty">Not results found.</div>
      </div>
    </div>
  </dialog>
</div>