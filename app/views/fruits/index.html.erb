<% content_for :head do %>
  <%= tag.meta name: "view-transition", content: "same-origin" %>
  <%= turbo_refreshes_with(method: :morph, scroll: :preserve) %>
<% end %>

<div class="container flex flex-col gap p-4" style="max-inline-size: 400px">
  <div class="flex flex-col gap auto-animate">
    <% @fruits.each do |fruit| %>
      <%= tag.div class: "flex justify-between border rounded-md pi-4 pb-2", style: "view-transition-name: fruit-#{fruit.id}" do %>
        <div><%= fruit.description %></div>
        <div><%= button_to "❌", main_app.fruit_path(fruit), method: :delete, class: "btn btn--plain" %></div>
      <% end %>
    <% end %>
  </div>

  <div class="flex items-center gap" style="view-transition-name: fruit-actions">
    <%= button_to "Add Fruit", main_app.fruits_path, class: "btn" %>
  </div>
</div>
